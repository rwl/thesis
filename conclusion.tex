\chapter{Further Work}
\label{sec:furtherwork}
This thesis has examined some of the traditional value function based and
policy gradient reinforcement learning methods.  However, research in the field
of Artificial Intelligence is highly active and there have been some
interesting new learning algorithms presented recently that might also be
examined in the domain of electric power trade.

Improvements in reinforcement learning algorithms can can be exploited in other
electric power Engineering problems such as:
\begin{itemize}
  \item System optimisation, close to real-time, such that sufficient reserve
  is allocated to ensure acceptable system security while costs are minimised
  according to the outcome of the electricity markets, and
  \item Capital investment planning, both by system operators needing to expand
  transmission capacity and energy companies wanting to develop new generating
  plant.
\end{itemize}

This chapter lists some alternative learning algorithms that should be explored
as an extension to this thesis.  It also defines two new reinforcement
learning problems to which  advanced learning algorithms could be applied.
It also explains how data from National Grid Ltd.~could be used in practical
simulations of the UK electricity market.  Finally, this chapter explores some
of the posibilities that AC optimal power flow formulations bring to to
electric power simulation and combined market simulation.

\section{Alternative Learning Algorithms}
\citeA{riedmiller05nfq} presented Neuro Fitted Q Iteration (NFQ) algorithms
that attempt to overcome many of the problems experienced when implementing
Q-learning methods with value function approximation using neural networks.  It
stores all transition experiences and performs off-line update using supervised
learning techniques such as RProp \cite{riedmiller93}.  The method has shown
robustness against parmeterisation and to learn quickly in standard benchmark
tests and in real-world applications \cite{kietzmann09}.

The GQ$(\lambda)$ algorithm by \citeA{maei10} is another extension of the
Q-learning method.  Convergence guarantees have been shown and the scaling
properties suggest that it is suitable for large-scale reinforcement learning
applications.  Software implementations of GQ$(\lambda)$ are reportedly in
development and due to be released soon.

Four new Natural Actor-Critic algorithms are presented in \citeA{bhatnagar09}.
As with the ENAC algorithm by \citeA{peters:enac}, these all utilise linear
function approximation techniques, making them suitable for large-scale applications of
reinforcement learning.  Three of the algorithms are extensions to ENAC, but
are fully incremental: the gradient computation is never reset while the policy
is updated at every simulation step.  The authors state a need to assess the
ultimate utility of these algorithms through application in real-world
problems.

This thesis provides a framework that would allow implementations of these
interesting new algorithms to be assessed and used to examine aspects of
electricity markets.

\section{Learning to Optimise Power Flow}
As explained in Section \ref{sec:opf}, the objective of the classical optimal
power flow problem is to find generator set-points that allow all system and
plant constraints to be satisfied while the total system cost is minimised.
Interior point methods are possibly the most robust of the techniques currently
available for finding solutions to this problem, but it may also be
formulated as a continuous reinforcement learning task that can be learnt by a
system operator agent.  To illustrate the concept, this section presents a
preliminary formulation of such a task and demonstrates how a system operator
agent can use policy gradient reinforcement learning methods to learn to
optimise power flow.

\subsection{System Operator Task and Environment}
The state of the system operator agent's environment is defined simply as a
demand forecast.  That is, the environment returns a vector of active power
demand at all system buses.  The initial demand is assumed to be peak and is
used to normalise the values of the sensor vector to be between $-1$ and $+1$
before input the the mutil-layer perceptron used for policy function
approximation.  Simulations are divided into episodes (days) over which the
demand at each bus follows the profile shown in Figure X.

The agent's action and the output of the policy function approximator is a
vector of the active power set-points of all generators, excluding the
generator at the system slack bus.  The set-points are bound by the generator's minimum
and maximum rated capacity. These bounds are used to denormalise the output
values from the final Sigmoid layer (that are between $-1$ and $+1$) to give
valid set-point values.

The sequence diagram in Figure Y indicates the point at which an AC power flow
problem for the case, with the new set-points applied, is solved using Newton's
method \cite{tinney:67}.  The power flow solution determines the complex
voltage at each bus, the branch power flows and losses, the reactive power
output of the generators and the active power output of the slack bus
generator.

The reward is defined as the negative of the sum of all generator costs.  The
negative of the costs is used since the learning methods attempt to maximise
reward and the objective is to minimise cost.  The power flow solution does not
satisfy system constraints, such as voltage limits or generators reactive power
limits and penalty costs must be applied to the reward so the agent learns to
obey them.

\subsection{Slack Bus Generator Control}
This initial proof of concept attempts only to enforce the set-point limit on
the slack bus generator.  The reward is updated according to
\begin{equation}
r =
\begin{cases}
r + \phi (P_{slack} - P_{max}), & \text{$P_{slack} > P_{max}$} \\
r, & \text{otherwise}
\end{cases}
\end{equation}
The six bus network model described in Chapter \ref{ch:learningtotrade} is used
with the coefficients of the generator's quadratic cost functions given in Table X.  Learning is conducted in batch
mode, with 7 episodes conducted before the parameters of the policy are
updated.  The system operator agent uses the ENAC learning method with RProp
gradient descent and an initial value of $\sigma = 50$, which is reduced after
each simulated week according to $\sigma_{i+1} = 0.5\sigma_i - 2$.

Figure X shows the average output of each generator over 52 simulated weeks of
control. Plotted in Figure Y is the average total system cost for each week along with
theoretically optimal values as calcualted by DC and AC optimal power flow
solvers.  The results show that, with suitable initial experimentation, the
agent learns to dispatch the generators in the most economically efficient
manner while controlling the slack bus generators to valid output levels.  The
average total system cost converges to slightly less that of the optimal
solution due to the disregard for other constraints, particularly the
branch flow constraint between buses 2 and 4 which is binding at times of peak
load.

\section{Learning to Plan Investment}

\section{UK Transmission System}
Some of the more ambitious agent-based electricity market simulations have used
stylised models of national transmission systems
\cite{cincotti:09,weidlich:06}.  This work has often been motivated by recent
or expected changes to the arrangements in the associated regions.  The drop in
oil prices around the time of the global economic crash in 2008 was not
refledted quickly in energy prices and this amplified concerns over liquiduty
levels in the UK electricity markets.  Ofgem found competition to be
sufficient[ref], but the concerns persists and the market arrangements have
been re-examined under Project Discovery[ref].

Several of the the UK's largest power stations are due to be decommissioned
around 2015 in accordance with EU regulations[ref]  The ability of the market
to sufficiently incentivise new investment in generation that will cover the
resulting shortfall is in question.  The concern extends to the need for
long-term investment in new nuclear power plant that is deemed neccessary for
the UK to meet the legally binding obligations, made in the Climate Change
Bill, to cut greenhouse gas emissions by 80\% by 2050, compared to 1990 levels.
Calls have been made for a radical overhaul of the exising arrangments and for
a more interventionist strategy from the government.

Ofgem's project discovery makes many large assumptions in its model of the UK
energy industry.  Future examinations could be enhanced by the advanced
participant behavioural models and accurate electric power system simulations
presented in this thesis.  To this end the transmission systems data
for winter peak load provided by National Grid in [ref] has been converted
into the PSS/E version 30 data file in Appendix \ref{sec:nget_pf}.  Generator
set-points were determined using the state estimator from Pylon [Crow].  The
power flow results are shown in Figure X and correlate accurately with those in
[SYS], having a mean variance of X.XX.  Cost data for each of the aggregated generating units has
been estimated from public sources and stored in the PSS/E version 30 optimal
power flow data file in Appendix \ref{sec:nget_opf}.  Execution times for
solving this case using DC, AC and unit de-commitment optimal power flow are
shown in Table X.  The problem is currently too computationally expensive to be
solved repeated in an agent-based simulation, but the profiling output in
Table~Y shows that much of the execution time is spent constructing matrices in
linked list format.  Significant improvements in speed should be possible
through more efficient construction of the Hessian matrices in the AC optimal
power flow solver.  Agent-based simulation lends itself to parallelisation and
the artificial neural networks could be processed in multiple threads on
multi-core processors or on distributed memory architectures.

\section{Security Constrained Optimal Power Flow}
To the best of the author's knowledge this is the first application of security
constrained optimal power flow in agent-based electricity market simulation.
AC optimal power flow is more difficult to implement and more computationally
expensive to solve due to the non-linear sets of constraints involved.  The
additional complexity does not always add sufficient value.  For locational
marginal price calculation, linearised DC forumulations have been found to
provide suitable results under most circumstances \cite{overbye:acdc}.
However, the option to use an AC formulation offers some interesting
possibilities for further work.

The inclusion of the cost associated with producing (or absorbing) reactive
power in the objective function of an AC optimal power flow problem means that
a parallel auction for voltage support may be run.  This could be open to
agents associated with reactive compensation equipment such as that commonly
needed for wind farm developments.  Reactive power markets have traditionally
been purely of academic interest, but as the UK becomes more dependant upon
offshore wind power the topic could become of increasing interest.

Bus voltage magnitudes are not all assumed to be 1~per-unit in AC optimal power
flow problems, but are part of the optimisation variable.  Generator reactive
power and bus voltage constraint limits are usually determined by system
security constraint requirements.  The policy gradient methods used in this
thesis can operate with large state spaces that may include information on
these constraints.  The additional constraints that are part of an AC
formulation represent further opportunities for agents to exploit system
conditions and receive greater reward.  However, bus voltages are typically
regulated by tap changing transformers and this is a difficult feature to
implement.  Tap positions are typically restricted to discrete intervals,
making the optimisation a mixed integer problem and thus much more difficult
to solve.  A formulation extended to includ automatic tap changing might also
implement variable phase shifting transformers.  These offer a degree of
control in directing power flows and the formulation would allow advanced
constraint management schemes to be researched.

\section{Multi-Market Simulation}
Policy gradient method's superior use of sensory data and their ability to
operate in large action domains opens opportunities for more detailed study of
inter-market relationships.  The global economy is a holistic system of
systems and the anaylsis of markets independently must be of limited value.
Recent agent-based electricity market simulations studies have investigated the
interaction between electricity, gas and emission allowances markets
\cite{krause:gas,wang:09}.  Non-linear models [ref] have been published for gas
flows in pipelines such as the UK gas network in Figure X and could be used in a
similar way to the UK transmission system model.  As in \citeA{krause:gas},
actions in the gas market would constrain the generators options to sell power
in subsequent electricity auctions.  In the same way that agents using policy
gradient learning methods can better exploit conditions in electricity markets,
these methods could be used to learn complex strategies for buying and selling
allowances while avioding penalties for exceeding quotas.


% \subsection{Common Information Model}
% Many tools exist for steady-state analysis of balanced three-phase AC networks
% and most are centred around bespoke models that describe the power system
% data.  Several attempts have been made in the past to standardise the format
% in which power system data is stored [CDF, UKGDS, ODF] and latest and most
% popular is the Common Information Model.
%
% The Common Information Model (CIM) is an abstract ontological model that
% describes the elements of national electric power systems and the associations
% between them.  CIM is an evolving international standard approved by the
% International Electrotechnical Commission (IEC).
%
% Unlike many tool specific models the CIM does not simplify the power system
% into a graph of buses connected by branches.  Instead it describes each of the
% components in the system and the electrical connectivity between them.
% Conventional numerical techniques for steady-state analysis of AC power
% systems require a simplified bus-branch model such that when the voltage angle
% and magnitude at each bus is determined the power flows on each branch may be
% calculated.

% market power, constraint management
%\section{Decentralised Trade}
% distribution level, renewables
%\section{Standarisation}
% CIM for markets
%\section{Blackbox optimisation}
% periodic

\section{Summary}

\chapter{Summary Conclusions}
\label{ch:conclusion}

% restate contributions